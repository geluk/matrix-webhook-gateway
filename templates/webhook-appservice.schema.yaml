"$schema": "http://json-schema.org/draft-04/schema#"
type: object
properties:
  app_service:
    type: object
    properties:
      hs_token:
        type: string
        minLength: 1
      as_token:
        type: string
        minLength: 1
      id:
        type: string
      user_namespace_regex:
        type: string
      sender_localpart:
        type: string
      rate_limited:
        type: boolean
      homeserver_name:
        type: string
        minLength: 1
      app_service_url:
        type: string
        minLength: 1
      homeserver_url:
        type: string
      listen_host:
        type: string
      listen_port:
        type: integer
        minimum: 1
    required: [ hs_token, as_token, homeserver_name, app_service_url ]
  database:
    type: object
    properties:
      driver:
        type: string
      connection:
        type: object
        properties:
          filename:
            type: string
          host:
            type: string
          port:
            type: integer
            minimum: 1
          user:
            type: string
          password:
            type: string
          database:
            type: string
  webhooks:
    type: object
    properties:
      listen_host:
        type: string
      listen_port:
        type: integer
        minimum: 1
      public_url:
        type: string
    required: [ public_url ]
required: [ app_service, webhooks ]
